<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Select nodes from a tree-sitter tree (internal) — ts_tree_select1 • ts</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Select nodes from a tree-sitter tree (internal) — ts_tree_select1"><meta name="description" content="This function is for packages implementing new parsers based on the ts
package. It is very unlikely that you will need to call this function
directly."><meta property="og:description" content="This function is for packages implementing new parsers based on the ts
package. It is very unlikely that you will need to call this function
directly."></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ts</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/about.html">About ts</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gaborcsardi/ts/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Select nodes from a tree-sitter tree (internal)</h1>
      <small class="dont-index">Source: <a href="https://github.com/gaborcsardi/ts/blob/main/R/ts-tree-select.R" class="external-link"><code>R/ts-tree-select.R</code></a></small>
      <div class="d-none name"><code>ts_tree_select1.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is for packages implementing new parsers based on the ts
package. It is very unlikely that you will need to call this function
directly.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'ts_tree.ts_tree_selector_default'</span></span>
<span><span class="fu">ts_tree_select1</span><span class="op">(</span><span class="va">tree</span>, <span class="va">node</span>, <span class="va">slt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ts_tree.NULL'</span></span>
<span><span class="fu">ts_tree_select1</span><span class="op">(</span><span class="va">tree</span>, <span class="va">node</span>, <span class="va">slt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ts_tree.ts_tree_selector_ids'</span></span>
<span><span class="fu">ts_tree_select1</span><span class="op">(</span><span class="va">tree</span>, <span class="va">node</span>, <span class="va">slt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ts_tree.ts_tree_selector_tsquery'</span></span>
<span><span class="fu">ts_tree_select1</span><span class="op">(</span><span class="va">tree</span>, <span class="va">node</span>, <span class="va">slt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ts_tree.character'</span></span>
<span><span class="fu">ts_tree_select1</span><span class="op">(</span><span class="va">tree</span>, <span class="va">node</span>, <span class="va">slt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ts_tree.integer'</span></span>
<span><span class="fu">ts_tree_select1</span><span class="op">(</span><span class="va">tree</span>, <span class="va">node</span>, <span class="va">slt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ts_tree.numeric'</span></span>
<span><span class="fu">ts_tree_select1</span><span class="op">(</span><span class="va">tree</span>, <span class="va">node</span>, <span class="va">slt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ts_tree.ts_tree_selector_regex'</span></span>
<span><span class="fu">ts_tree_select1</span><span class="op">(</span><span class="va">tree</span>, <span class="va">node</span>, <span class="va">slt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ts_tree.logical'</span></span>
<span><span class="fu">ts_tree_select1</span><span class="op">(</span><span class="va">tree</span>, <span class="va">node</span>, <span class="va">slt</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tree">tree<a class="anchor" aria-label="anchor" href="#arg-tree"></a></dt>
<dd><p>A <code>ts_tree</code> object as returned by <code><a href="ts_tree_new.html">ts_tree_new()</a></code>.</p></dd>


<dt id="arg-node">node<a class="anchor" aria-label="anchor" href="#arg-node"></a></dt>
<dd><p>Integer scalar, the node id to select from.</p></dd>


<dt id="arg-slt">slt<a class="anchor" aria-label="anchor" href="#arg-slt"></a></dt>
<dd><p>A selector object, see details in <code><a href="ts_tree_select.html">ts_tree_select()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A parser package may implement methods for this generic to change the
behavior of <code><a href="ts_tree_select.html">ts_tree_select()</a></code> for a
certain selector type, or even add new selector types.</p>
<p>Each new method should be named as</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>ts_tree_select.<span class="sc">&lt;</span>ts_tree_class<span class="sc">&gt;</span>.<span class="sc">&lt;</span>selector_class<span class="sc">&gt;</span></span></code></pre><p></p></div>
<p>The ts package implement deault methods for the selector types described
in the <code><a href="ts_tree_select.html">ts_tree_select()</a></code> manual page.</p>
<div class="section">
<h3 id="ts-tree-selector-default-selector"><code>ts_tree_selector_default</code> selector<a class="anchor" aria-label="anchor" href="#ts-tree-selector-default-selector"></a></h3>


<p>Method: <code>ts_tree_select1.ts_tree.ts_tree_selector_default</code></p>
<p>This method is used to select the default element(s), when there is no
selected element. E.g. when starting a new selection from the root of
the DOM tree.</p>
<p>The default implementation returns the ids of all children of the
document root in the AST, except comments. If there are no such
children, it returns the id of the document root of the AST itself
(always id 1).</p>
</div>

<div class="section">
<h3 id="null-selector"><code>NULL</code> selector<a class="anchor" aria-label="anchor" href="#null-selector"></a></h3>


<p>Method: <code>ts_tree_select1.ts_tree.NULL</code></p>
<p>This method is used for the  <code>NULL</code> selector, that is supposed to
clear the selection. You probably do not need to override this method.
The default implementation returns an empty integer vector.</p>
</div>

<div class="section">
<h3 id="ts-tree-selector-ids-selector"><code>ts_tree_selector_ids</code> selector<a class="anchor" aria-label="anchor" href="#ts-tree-selector-ids-selector"></a></h3>


<p>Method: <code>ts_tree_select1.ts_tree.ts_tree_selector_ids</code></p>
<p>This method is used to select nodes by their ids directly.
You probably do not need to override this method.
The default implementation returns the ids stored in the selector.</p><div class="section">
<h4 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h4>


<p>This behaviour may change in the future to select only nodes
in the subtree of the current node.</p>
</div>


</div>

<div class="section">
<h3 id="ts-tree-selector-tsquery-selector"><code>ts_tree_selector_tsquery</code> selector<a class="anchor" aria-label="anchor" href="#ts-tree-selector-tsquery-selector"></a></h3>


<p>Method: <code>ts_tree_select1.ts_tree.ts_tree_selector_tsquery</code></p>
<p>This method is used to select nodes matching a tree-sitter query.
You probably do not need to override this method.
The default implementation returns the ids stored in the selector.</p><div class="section">
<h4 id="note-1">Note<a class="anchor" aria-label="anchor" href="#note-1"></a></h4>


<p>This behaviour may change in the future to select only nodes
in the subtree of the current node.</p>
</div>


</div>

<div class="section">
<h3 id="character-character-vector-selector"><code>character</code> (character vector) selector<a class="anchor" aria-label="anchor" href="#character-character-vector-selector"></a></h3>


<p>Method: <code>ts_tree_select1.ts_tree.character</code></p>
<p>This method is used when the selector is a character vector.
The default implementation selects DOM children of <code>node</code> whose names
are in the character vector. If not all children o <code>node</code> are named,
it returns an empty integer vector. (E.g. in a JSONC document it returns
an empty integer vector when nodes is an array.)</p>
</div>

<div class="section">
<h3 id="integer-integer-vector-selector"><code>integer</code> (integer vector) selector<a class="anchor" aria-label="anchor" href="#integer-integer-vector-selector"></a></h3>


<p>Method: <code>ts_tree_select1.ts_tree.integer</code></p>
<p>This method is used when the selector is an integer vector.
The default implementation selects DOM children of <code>node</code> by position.
Positive indices count from the start, negative indices count from the
end. Zero indices are not allowed and an error is raised if any are
used.</p>
</div>

<div class="section">
<h3 id="numeric-numeric-double-vector-selector"><code>numeric</code> (numeric, double vector) selector<a class="anchor" aria-label="anchor" href="#numeric-numeric-double-vector-selector"></a></h3>


<p>Method: <code>ts_tree_select1.ts_tree.numeric</code></p>
<p>This method is used when the selector is a numeric (double) vector.
It currrently coerces the numeric vector to integer and calls the
integer method.</p>
</div>

<div class="section">
<h3 id="ts-tree-selector-regex-regular-expression-selector"><code>ts_tree_selector_regex</code> (regular expression) selector<a class="anchor" aria-label="anchor" href="#ts-tree-selector-regex-regular-expression-selector"></a></h3>


<p>Method: <code>ts_tree_select1.ts_tree.ts_tree_selector_regex</code></p>
<p>This method is used when the selector is a regular expression.
The default implementation selects DOM children of <code>node</code> whose names
match the regular expression. If not all children o <code>node</code> are named,
it returns an empty integer vector. (E.g. in a JSONC document it
returns an empty integer vector when nodes is an array.)</p>
</div>

<div class="section">
<h3 id="logical-logical-vector-selector"><code>logical</code> (logical vector) selector<a class="anchor" aria-label="anchor" href="#logical-logical-vector-selector"></a></h3>


<p>Method: <code>ts_tree_select1.ts_tree.logical</code></p>
<p>This method is used when the selector is a logical vector.
The default implementation only supports scalar <code>TRUE</code>, which selects
all DOM children of <code>node</code>. Other values raise an error.</p>
</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

