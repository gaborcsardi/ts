<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Insert a new element into a tree-sitter tree — ts_tree_insert • ts</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Insert a new element into a tree-sitter tree — ts_tree_insert"><meta name="description" content="Insert a new element into each selected element.

Available tree-sitter parsers
This is the manual page of the ts_tree_insert() S3 generic function.
Methods in parser packages may override this generic.
For the ones that do see the links to their manual pages in the table.
PackageVersionTitleMethod
tsjsonc0.0.0.9000Edit JSON Files.ts_tree_insert(&amp;lt;ts_tree_tsjsonc&amp;gt;)
tstoml0.0.0.9000Edit TOML files.
"><meta property="og:description" content="Insert a new element into each selected element.

Available tree-sitter parsers
This is the manual page of the ts_tree_insert() S3 generic function.
Methods in parser packages may override this generic.
For the ones that do see the links to their manual pages in the table.
PackageVersionTitleMethod
tsjsonc0.0.0.9000Edit JSON Files.ts_tree_insert(&amp;lt;ts_tree_tsjsonc&amp;gt;)
tstoml0.0.0.9000Edit TOML files.
"></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ts</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/about.html">About ts</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gaborcsardi/ts/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Insert a new element into a tree-sitter tree</h1>
      <small class="dont-index">Source: <a href="https://github.com/gaborcsardi/ts/blob/repo/R/ts-tree-insert.R" class="external-link"><code>R/ts-tree-insert.R</code></a></small>
      <div class="d-none name"><code>ts_tree_insert.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Insert a new element into each selected element.</p>
<p></p><div class="section">
<h3 id="available-tree-sitter-parsers">Available tree-sitter parsers<a class="anchor" aria-label="anchor" href="#available-tree-sitter-parsers"></a></h3>
<p>This is the manual page of the <code>ts_tree_insert()</code> S3 generic function.
Methods in parser packages may override this generic.
For the ones that do see the links to their manual pages in the table.</p><table class="table table"><tr><td><strong>Package</strong></td><td><strong>Version</strong></td><td><strong>Title</strong></td><td><strong>Method</strong></td></tr><tr><td><strong><a href="https://gaborcsardi.github.io/tsjsonc/reference/tsjsonc-package.html">tsjsonc</a></strong></td><td>0.0.0.9000</td><td>Edit JSON Files.</td><td><code><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_tree_insert.ts_tree_jsonc.html">ts_tree_insert(&lt;ts_tree_tsjsonc&gt;)</a></code></td></tr><tr><td><strong><a href="https://gaborcsardi.github.io/tstoml/reference/tstoml-package.html">tstoml</a></strong></td><td>0.0.0.9000</td><td>Edit TOML files.</td><td></td></tr></table></div>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ts_tree_insert</span><span class="op">(</span><span class="va">tree</span>, <span class="va">new</span>, <span class="va">key</span>, <span class="va">at</span>, <span class="va">options</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tree">tree<a class="anchor" aria-label="anchor" href="#arg-tree"></a></dt>
<dd><p>A <code>ts_tree</code> object.</p></dd>


<dt id="arg-new">new<a class="anchor" aria-label="anchor" href="#arg-new"></a></dt>
<dd><p>The new element to insert.

</p><p></p>

<p>The type of <code>new</code> depends on the parser and the method that implements
the insertion. See details in the manual of the specific parser.</p></dd>


<dt id="arg-key">key<a class="anchor" aria-label="anchor" href="#arg-key"></a></dt>
<dd><p>The key of the new element, if inserting into a keyed element.

</p><p></p>

<p>For example a JSON(C) object or a TOML table are keyed elements.</p></dd>


<dt id="arg-at">at<a class="anchor" aria-label="anchor" href="#arg-at"></a></dt>
<dd><p>The position to insert the new element at.

</p><p></p>

<p>The interpretation of this argument depends on the method that
implements the insertion. Typically the followings are supported:</p><ul><li><p><code>0</code> inserts at the beginning.</p></li>
<li><p><code>Inf</code> inserts at the end.</p></li>
<li><p>A positive integer <code>n</code> inserts <em>after</em> the <code>n</code>-th element.</p></li>
<li><p>A character scalar inserts <em>after</em> the element with the given key,
in keyed elements.</p></li>
</ul><p>See the details in the manual of the specific parser.</p></dd>


<dt id="arg-options">options<a class="anchor" aria-label="anchor" href="#arg-options"></a></dt>
<dd><p>A list of options for the insertion.

</p><p></p>

<p>See details in the manual of the specific parser.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Extra arguments for methods.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>It is not always possible to insert a new element into a selected
element. For example in a JSONC document you can only insert a new
element into an array or an object, but not into scalar elements.
If the insertion is not possible, an error is raised.</p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span><span class="st">"{ \"a\": true, \"b\": [1, 2, 3] }"</span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"a"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_insert.html">ts_tree_insert</a></span><span class="op">(</span><span class="st">"foo"</span><span class="op">)</span></span></code></pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt;   Cannot insert into a 'true' JSON element. Can only insert into 'array' and 'ob
#&gt; ject' elements and empty JSON documents.
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span><span class="st">"a = true\nb = [1, 2, 3]"</span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"a"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_insert.html">ts_tree_insert</a></span><span class="op">(</span><span class="st">"foo"</span><span class="op">)</span></span></code></pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; Error in FUN(X[[i]], ...) : Cannot insert into a `value` TOML element.
</pre></div></div></div></div>
<p>If <code>tree</code> does not have a selection, the new element is inserted into
at the top level.</p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span><span class="st">"{ \"a\": true, \"b\": [1, 2, 3] }"</span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_insert.html">ts_tree_insert</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"c"</span>, new <span class="op">=</span> <span class="st">"foo"</span><span class="op">)</span></span></code></pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (9 lines)</span>
#&gt; <span style="color: #6F7783;">1 | </span>{
#&gt; <span style="color: #6F7783;">2 | </span>    "a": true,
#&gt; <span style="color: #6F7783;">3 | </span>    "b": [
#&gt; <span style="color: #6F7783;">4 | </span>        1,
#&gt; <span style="color: #6F7783;">5 | </span>        2,
#&gt; <span style="color: #6F7783;">6 | </span>        3
#&gt; <span style="color: #6F7783;">7 | </span>    ],
#&gt; <span style="color: #6F7783;">8 | </span>    "c": "foo"
#&gt; <span style="color: #6F7783;">9 | </span>}
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span><span class="st">"a = true\nb = [1, 2, 3]"</span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_insert.html">ts_tree_insert</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"c"</span>, new <span class="op">=</span> <span class="st">"foo"</span><span class="op">)</span></span></code></pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (3 lines)</span>
#&gt; <span style="color: #6F7783;">1 | </span>a = true
#&gt; <span style="color: #6F7783;">2 | </span>b = [1, 2, 3]
#&gt; <span style="color: #6F7783;">3 | </span>c = "foo"
</pre></div></div></div></div>
<p>If <code>tree</code> has an empty selection, then it is returned unchanged, i.e.
no new element is inserted.</p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span><span class="st">"{ \"a\": true, \"b\": [1, 2, 3] }"</span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"nonexistent"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_insert.html">ts_tree_insert</a></span><span class="op">(</span><span class="st">"foo"</span><span class="op">)</span></span></code></pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 0 selected elements)</span>
#&gt; <span style="color: #6F7783;">1 | </span>{ "a": true, "b": [1, 2, 3] }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span><span class="st">"a = true\nb = [1, 2, 3]"</span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"nonexistent"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_insert.html">ts_tree_insert</a></span><span class="op">(</span><span class="st">"foo"</span><span class="op">)</span></span></code></pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (2 lines, 0 selected elements)</span>
#&gt; <span style="color: #6F7783;">1 | </span>a = true
#&gt; <span style="color: #6F7783;">2 | </span>b = [1, 2, 3]
</pre></div></div></div></div>

<script>
function openCity(evt, language) {
  var currentTab = evt.srcElement.parentElement.parentElement;
  var i, x, tablinks;
  x = currentTab.getElementsByClassName("ts-package");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  tablinks = currentTab.getElementsByClassName("tablink");
  for (i = 0; i < x.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" w3-active", "");
  }
  currentTab.getElementsByClassName("ts-package-" + language)[0].style.display = "block";
  evt.srcElement.className += " w3-active";
}
</script><style>
.w3-container:after,
.w3-container:before,
.w3-panel:after,
.w3-panel:before,
.w3-row:after,
.w3-row:before,
.w3-row-padding:after,
.w3-row-padding:before,
.w3-cell-row:before,
.w3-cell-row:after,
.w3-clear:after,
.w3-clear:before,
.w3-bar:before,
.w3-bar:after {
  content:"";
  display: table;
  clear: both
}.w3-container,
.w3-panel {
  padding: 0.01em 16px
}.w3-panel {
  margin-top: 16px;
  margin-bottom: 16px
}.w3-bar {
  width: 100%;
  overflow: hidden
}.w3-center .w3-bar {
  display: inline-block;
  width: auto
}.w3-bar .w3-bar-item {
  padding: 8px 16px;
  float: left;
  width: auto;
  border: none;
  display: block;
  outline: 0
}.w3-bar .w3-button {
  white-space: normal;
  border: 1px solid;
}.w3-block {
  display: block;
  width: 100%
}.w3-btn,
.w3-button {
  border: none;
  display: inline-block;
  padding: 8px 16px;
  vertical-align: middle;
  overflow: hidden;
  text-decoration: none;
  color: inherit;
  background-color: inherit;
  text-align: center;
  cursor: pointer;
  white-space: nowrap
}.w3-btn,
.w3-button{
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none
}.w3-bar .w3-button {
  white-space: normal
}.w3-button:hover {
  color: #000!important;
  background-color: #ccc!important
}.w3-active,
.w3-hover-active:hover {
  background-color: #aaa;
  color: #000;
}.w3-border-0 {
  border: 0!important
}.w3-border {
  border: 1px solid #ccc!important;
  margin-bottom: 10px;
}.w3-border-top {
  border-top: 1px solid #ccc!important
}.w3-border-bottom {
  border-bottom: 1px solid #ccc!important
}.w3-border-left {
  border-left: 1px solid #ccc!important
}.w3-border-right{
  border-right: 1px solid #ccc!important
}/* undo the gradient in tidytemplate, but add it to the whole tab */
.ts-package {
  background-image: linear-gradient(-160deg, #f8f8f8 0, #f1f1f1 100%);
  margin-bottom: 10px;
}
.ts-package pre, code {
  background-image: none;
  background-color: #00000000;
}
</style></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Method in installed package: <code>ts_tree_insert(&lt;ts_tree_tsjsonc&gt;)</code>.</p>
<p>Other <code>ts_tree</code> generics:
<code><a href="double-bracket-ts-tree.html">[[.ts_tree()</a></code>,
<code>[[&lt;-.ts_tree()</code>,
<code><a href="format.ts_tree.html">format.ts_tree()</a></code>,
<code><a href="print.ts_tree.html">print.ts_tree()</a></code>,
<code><a href="select-set.html">select-set</a></code>,
<code><a href="ts_tree_ast.html">ts_tree_ast()</a></code>,
<code><a href="ts_tree_delete.html">ts_tree_delete()</a></code>,
<code><a href="ts_tree_dom.html">ts_tree_dom()</a></code>,
<code><a href="ts_tree_format.html">ts_tree_format()</a></code>,
<code><a href="ts_tree_new.html">ts_tree_new()</a></code>,
<code><a href="ts_tree_query.html">ts_tree_query()</a></code>,
<code><a href="ts_tree_select.html">ts_tree_select()</a></code>,
<code><a href="ts_tree_sexpr.html">ts_tree_sexpr()</a></code>,
<code><a href="ts_tree_unserialize.html">ts_tree_unserialize()</a></code>,
<code><a href="ts_tree_update.html">ts_tree_update()</a></code>,
<code><a href="ts_tree_write.html">ts_tree_write()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a parse tree with tsjsonc -------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">tree</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span><span class="st">'{ "a": true, "b": [1, 2, 3] }'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tree</span> <span class="op">|&gt;</span> <span class="fu"><a href="ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"b"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">ts_tree_insert</span><span class="op">(</span><span class="fl">4</span>, at <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># jsonc (6 lines)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">1 | </span>{ "a": true, "b": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">2 | </span>    1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">3 | </span>    2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">4 | </span>    3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">5 | </span>    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">6 | </span>] }</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a parse tree with tstoml --------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">tree</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span><span class="st">r"(</span></span></span>
<span class="r-in"><span><span class="st">  [servers]</span></span></span>
<span class="r-in"><span><span class="st">  alpha = { ip = "127.0.0.1", dc = "eqdc10" }</span></span></span>
<span class="r-in"><span><span class="st">  beta = { ip = "127.0.0.2", dc = "eqdc20" }</span></span></span>
<span class="r-in"><span><span class="st">)"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tree</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"servers"</span>, <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">ts_tree_insert</span><span class="op">(</span>key <span class="op">=</span> <span class="st">"active"</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># toml (3 lines)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">1 | </span>[servers]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">2 | </span>  alpha = { ip = "127.0.0.1", dc = "eqdc10", active = true }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">3 | </span>  beta = { ip = "127.0.0.2", dc = "eqdc20", active = true }</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

