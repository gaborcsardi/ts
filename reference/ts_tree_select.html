<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Select elements of a tree-sitter tree — ts_tree_select • ts</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Select elements of a tree-sitter tree — ts_tree_select"><meta name="description" content="This function is the heart of ts. To edit a tree-sitter tree, you first
need to select the parts you want to delete or update.
Installed ts parsers


This is the manual page of the ts_tree_select() S3 generic function.
See the S3 methods in the installed ts parser packages (if any):

tsjsonc 0.0.0.9000 (loaded): Edit JSON Files. Method:
 ts_tree_select(&amp;lt;ts_tree_tsjsonc&amp;gt;)
tstoml 0.0.0.9000 (loaded): Edit TOML files. Method:
 ts_tree_select(&amp;lt;ts_tree_tstoml&amp;gt;)


"><meta property="og:description" content="This function is the heart of ts. To edit a tree-sitter tree, you first
need to select the parts you want to delete or update.
Installed ts parsers


This is the manual page of the ts_tree_select() S3 generic function.
See the S3 methods in the installed ts parser packages (if any):

tsjsonc 0.0.0.9000 (loaded): Edit JSON Files. Method:
 ts_tree_select(&amp;lt;ts_tree_tsjsonc&amp;gt;)
tstoml 0.0.0.9000 (loaded): Edit TOML files. Method:
 ts_tree_select(&amp;lt;ts_tree_tstoml&amp;gt;)


"></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ts</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/about.html">About ts</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gaborcsardi/ts/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Select elements of a tree-sitter tree</h1>
      <small class="dont-index">Source: <a href="https://github.com/gaborcsardi/ts/blob/main/R/ts-tree-select.R" class="external-link"><code>R/ts-tree-select.R</code></a></small>
      <div class="d-none name"><code>ts_tree_select.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is the heart of ts. To edit a tree-sitter tree, you first
need to select the parts you want to delete or update.</p><div class="section">
<h3 id="installed-ts-parsers">Installed ts parsers<a class="anchor" aria-label="anchor" href="#installed-ts-parsers"></a></h3>


<p>This is the manual page of the <code>ts_tree_select()</code> S3 generic function.
See the S3 methods in the installed ts parser packages (if any):</p>
<p></p><ul><li><p><strong><a href="https://gaborcsardi.github.io/tsjsonc/reference/tsjsonc-package.html">tsjsonc</a></strong> 0.0.0.9000 (loaded): Edit JSON Files.<br> Method:
 <code>ts_tree_select(&lt;ts_tree_tsjsonc&gt;)</code></p></li>
<li><p><strong><a href="https://gaborcsardi.github.io/tstoml/reference/tstoml-package.html">tstoml</a></strong> 0.0.0.9000 (loaded): Edit TOML files.<br> Method:
 <code><a href="https://gaborcsardi.github.io/tstoml/reference/ts_tree_select.tstoml.html">ts_tree_select(&lt;ts_tree_tstoml&gt;)</a></code></p></li>
</ul></div>

    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ts_tree_select</span><span class="op">(</span><span class="va">tree</span>, <span class="va">...</span>, refine <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tree">tree<a class="anchor" aria-label="anchor" href="#arg-tree"></a></dt>
<dd><p>A <code>ts_tree</code> object as returned by
<code><a href="ts_tree_new.html">ts_tree_new()</a></code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Selection expressions, see details.</p></dd>


<dt id="arg-refine">refine<a class="anchor" aria-label="anchor" href="#arg-refine"></a></dt>
<dd><p>Logical, whether to refine the current selection or start
a new selection.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ts_tree</code> object with the selected parts.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The selection process is iterative. Selection expressions (selectors)
are applied one by one, and each selector selects nodes from the
currently selected nodes. For each selector, it is applied individually
to each currently selected node, and the results are concatenated.
</p><p>The selection process starts from the root of the DOM tree, the document
node (see <code><a href="ts_tree_dom.html">ts_tree_dom()</a></code>), unless
<code>refine = TRUE</code> is set, in which case it starts from the current
selection.
</p><p>See the various types of selection expressions below.
</p><div class="section">
<h3 id="selectors">Selectors<a class="anchor" aria-label="anchor" href="#selectors"></a></h3><div class="section">
<h4 id="all-elements-true">All elements: <code>TRUE</code><a class="anchor" aria-label="anchor" href="#all-elements-true"></a></h4><p>Selects all child nodes of the current nodes.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span>  <span class="st">'{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, <span class="cn">TRUE</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 5 selected elements)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [<span style="color: #66C2CD;">10</span>, <span style="color: #66C2CD;">20</span>, <span style="color: #66C2CD;">30</span>], "c": { "c1": <span style="color: #66C2CD;">true</span>, "c2": <span style="color: #66C2CD;">null</span> } }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span><span class="st">'</span></span>
<span><span class="st">  a = 1</span></span>
<span><span class="st">  b = [10, 20, 30]</span></span>
<span><span class="st">  [c]</span></span>
<span><span class="st">  c1 = true</span></span>
<span><span class="st">  c2 = []</span></span>
<span><span class="st">'</span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, <span class="cn">TRUE</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (6 lines, 5 selected elements)</span>
#&gt;   <span style="color: #6F7783;">1 | </span>
#&gt;   <span style="color: #6F7783;">2 | </span>  a = 1
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">3 | </span>  b = [<span style="color: #66C2CD;">10</span>, <span style="color: #66C2CD;">20</span>, <span style="color: #66C2CD;">30</span>]
#&gt;   <span style="color: #6F7783;">4 | </span>  [c]
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">5 | </span>  c1 = <span style="color: #66C2CD;">true</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">6 | </span>  c2 = <span style="color: #66C2CD;">[]</span>
</pre></div></div></div>
<p></p></div>
</div><div class="section">
<h4 id="specific-keys-character-vector">Specific keys: character vector<a class="anchor" aria-label="anchor" href="#specific-keys-character-vector"></a></h4><p>Selects child nodes with the given names from nodes with named children.
If a node has no named children, it selects nothing from that node.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span>  <span class="st">'{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"c"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c1"</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 1 selected element)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [10, 20, 30], "c": { "c1": <span style="color: #66C2CD;">true</span>, "c2": null } }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span><span class="st">'</span></span>
<span><span class="st">  a = 1</span></span>
<span><span class="st">  b = [10, 20, 30]</span></span>
<span><span class="st">  [c]</span></span>
<span><span class="st">  c1 = true</span></span>
<span><span class="st">  c2 = []</span></span>
<span><span class="st">'</span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"c"</span><span class="op">)</span>, <span class="st">"c1"</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (6 lines, 1 selected element)</span>
#&gt;   <span style="color: #6F7783;">2 | </span>  a = 1
#&gt;   <span style="color: #6F7783;">3 | </span>  b = [10, 20, 30]
#&gt;   <span style="color: #6F7783;">4 | </span>  [c]
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">5 | </span>  c1 = <span style="color: #66C2CD;">true</span>
#&gt;   <span style="color: #6F7783;">6 | </span>  c2 = []
</pre></div></div></div>
<p></p></div>
</div><div class="section">
<h4 id="by-position-integer-vector">By position: integer vector<a class="anchor" aria-label="anchor" href="#by-position-integer-vector"></a></h4><p>Selects child nodes by position. Positive indices count from the start,
negative indices count from the end. Zero indices are not allowed.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style=""><p></p><p>For JSONC positional indices can be used both for arrays and objects.
For other nodes nothing is selected.</p>
<p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span>  <span class="st">'{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 2 selected elements)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [10, 20, <span style="color: #66C2CD;">30</span>], "c": { "c1": true, "c2": <span style="color: #66C2CD;">null</span> } }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span><span class="st">'</span></span>
<span><span class="st">  a = 1</span></span>
<span><span class="st">  b = [10, 20, 30]</span></span>
<span><span class="st">  [c]</span></span>
<span><span class="st">  c1 = true</span></span>
<span><span class="st">  c2 = []</span></span>
<span><span class="st">'</span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (6 lines, 2 selected elements)</span>
#&gt;   <span style="color: #6F7783;">1 | </span>
#&gt;   <span style="color: #6F7783;">2 | </span>  a = 1
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">3 | </span>  b = [10, 20, <span style="color: #66C2CD;">30</span>]
#&gt;   <span style="color: #6F7783;">4 | </span>  [c]
#&gt;   <span style="color: #6F7783;">5 | </span>  c1 = true
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">6 | </span>  c2 = <span style="color: #66C2CD;">[]</span>
</pre></div></div></div>
<p></p></div>
</div><div class="section">
<h4 id="matching-keys-regular-expression">Matching keys: regular expression<a class="anchor" aria-label="anchor" href="#matching-keys-regular-expression"></a></h4><p>A character scalar named <code>regex</code> can be used to select child nodes
whose names match the given regular expression, from nodes with named
children. If a node has no named children, it selects nothing from that
node.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span> <span class="st">'{ "apple": 1, "almond": 2, "banana": 3, "cherry": 4 }'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span>regex <span class="op">=</span> <span class="st">"^a"</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 2 selected elements)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "apple": <span style="color: #66C2CD;">1</span>, "almond": <span style="color: #66C2CD;">2</span>, "banana": 3, "cherry": 4 }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span></span>
<span> <span class="st">'apple = 1\nalmond = 2\nbanana = 3\ncherry = 4\n'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span>regex <span class="op">=</span> <span class="st">"^a"</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines, 2 selected elements)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>apple = <span style="color: #66C2CD;">1</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">2 | </span>almond = <span style="color: #66C2CD;">2</span>
#&gt;   <span style="color: #6F7783;">3 | </span>banana = 3
#&gt;   <span style="color: #6F7783;">4 | </span>cherry = 4
</pre></div></div></div>
<p></p></div>
</div><div class="section">
<h4 id="tree-sitter-query-matches">Tree sitter query matches<a class="anchor" aria-label="anchor" href="#tree-sitter-query-matches"></a></h4><p>A character scalar named <code>query</code> can be used to select nodes matching
a tree-sitter query. See <code><a href="ts_tree_query.html">ts_tree_query()</a></code>
for details on tree-sitter queries.
</p><p></p><p>Instead of a character scalar this can also be a two-element list, where
the first element is the query string and the second element is a
character vector of capture names to select. In this case only nodes
matching the given capture names will be selected.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style=""><p></p><p>See <code><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_language_jsonc.html">ts_language_jsonc()</a></code> for
details on the JSONC grammar.
</p><p></p><p>This example selects all numbers in the JSON document.</p>
<p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span>  <span class="st">'{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": 100 } }'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">"(number) @number"</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 5 selected elements)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": <span style="color: #66C2CD;">1</span>, "b": [<span style="color: #66C2CD;">10</span>, <span style="color: #66C2CD;">20</span>, <span style="color: #66C2CD;">30</span>], "c": { "c1": true, "c2": <span style="color: #66C2CD;">100</span> } }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none"><p></p><p>See <code><a href="https://gaborcsardi.github.io/tstoml/reference/ts_language_toml.html">tstoml::ts_language_toml()</a></code> for details on the TOML grammar.
</p><p></p><p>This example selects all integers in the TOML document.</p>
<p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span></span>
<span>  <span class="st">'a = 1\nb = [10, 20, 30]\nc = { c1 = true, c2 = 100 }\n'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">"(integer) @integer"</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (3 lines, 5 selected elements)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>a = <span style="color: #66C2CD;">1</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">2 | </span>b = [<span style="color: #66C2CD;">10</span>, <span style="color: #66C2CD;">20</span>, <span style="color: #66C2CD;">30</span>]
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">3 | </span>c = { c1 = true, c2 = <span style="color: #66C2CD;">100</span> }
</pre></div></div></div>
<p></p></div>
</div><div class="section">
<h4 id="explicit-node-ids">Explicit node ids<a class="anchor" aria-label="anchor" href="#explicit-node-ids"></a></h4><p>You can use <code>I(c(...))</code> to select nodes by their ids directly. This is
for advanced use cases only.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span>  <span class="st">'{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }'</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ts_tree_dom.html">ts_tree_dom</a></span><span class="op">(</span><span class="va">json</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; document (1)
#&gt; └─object (2)
#&gt;   ├─number (10)<span style="color: #6F7783;"> # a</span>
#&gt;   ├─array (18)<span style="color: #6F7783;"> # b</span>
#&gt;   │ ├─number (20)
#&gt;   │ ├─number (22)
#&gt;   │ └─number (24)
#&gt;   └─object (33)<span style="color: #6F7783;"> # c</span>
#&gt;     ├─true (41)<span style="color: #6F7783;"> # c1</span>
#&gt;     └─null (49)<span style="color: #6F7783;"> # c2</span>
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fl">18</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 1 selected element)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": <span style="color: #66C2CD;">[10, 20, 30]</span>, "c": { "c1": true, "c2": null } }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span></span>
<span>  <span class="st">'a = 1\nb = [10, 20, 30]\nc = { c1 = true, c2 = [] }\n'</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ts_tree_dom.html">ts_tree_dom</a></span><span class="op">(</span><span class="va">toml</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; document (1)
#&gt; ├─value (5)<span style="color: #6F7783;"> # a</span>
#&gt; ├─array (9)<span style="color: #6F7783;"> # b</span>
#&gt; │ ├─value (11)
#&gt; │ ├─value (13)
#&gt; │ └─value (15)
#&gt; └─inline_table (20)<span style="color: #6F7783;"> # c</span>
#&gt;   ├─value (25)<span style="color: #6F7783;"> # c1</span>
#&gt;   └─array (30)<span style="color: #6F7783;"> # c2</span>
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (3 lines, 1 selected element)</span>
#&gt;   <span style="color: #6F7783;">1 | </span>a = 1
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">2 | </span>b = <span style="color: #66C2CD;">[10, 20, 30]</span>
#&gt;   <span style="color: #6F7783;">3 | </span>c = { c1 = true, c2 = [] }
</pre></div></div></div>
<p></p></div>
</div></div><div class="section">
<h3 id="refining-selections">Refining selections<a class="anchor" aria-label="anchor" href="#refining-selections"></a></h3><p>If the <code>refine</code> argument of
<code>ts_tree_select()</code> is <code>TRUE</code>, then
the selection starts from the already selected elements (all of them
simultanously), instead of starting from the document element.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span>  <span class="st">'{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">&lt;-</span> <span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
<p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 2 selected elements)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": <span style="color: #66C2CD;">1</span>, "b": <span style="color: #66C2CD;">[10, 20, 30]</span>, "c": { "c1": true, "c2": null } }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, refine <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 4 selected elements)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [<span style="color: #66C2CD;">10</span>, <span style="color: #66C2CD;">20</span>, 30], "c": { "c1": <span style="color: #66C2CD;">true</span>, "c2": <span style="color: #66C2CD;">null</span> } }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span></span>
<span>  <span class="st">'[table]\na = 1\nb = [10, 20, 30]\nc = { c1 = true, c2 = [] }\n'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"table"</span>, <span class="st">"b"</span><span class="op">)</span></span></code></pre><p></p></div>
<p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="co"># selects the first two elements in the document node, ie. "table"</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines, 1 selected element)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span><span style="color: #66C2CD;">[table]</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">2 | </span><span style="color: #66C2CD;">a = 1</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">3 | </span><span style="color: #66C2CD;">b = [10, 20, 30]</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">4 | </span><span style="color: #66C2CD;">c = { c1 = true, c2 = [] }</span>
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="co"># selects the first two elements inside "table" and "b"</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, refine <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines, 2 selected elements)</span>
#&gt;   <span style="color: #6F7783;">1 | </span>[table]
#&gt;   <span style="color: #6F7783;">2 | </span>a = 1
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">3 | </span>b = [<span style="color: #66C2CD;">10</span>, <span style="color: #66C2CD;">20</span>, 30]
#&gt;   <span style="color: #6F7783;">4 | </span>c = { c1 = true, c2 = [] }
</pre></div></div></div>
<p></p></div>
</div><div class="section">
<h3 id="the-ts-tree-select-lt-replacement-function">The <code>ts_tree_select&lt;-()</code> replacement function<a class="anchor" aria-label="anchor" href="#the-ts-tree-select-lt-replacement-function"></a></h3><p>The <code><a href="select-set.html">ts_tree_select&lt;-()</a></code> replacement
function works similarly to the combination of
<code>ts_tree_select()</code> and
<code><a href="ts_tree_update.html">ts_tree_update()</a></code>, but it might be more
readable.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span>  <span class="st">'{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">json</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line)</span>
#&gt; <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 1 selected element)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [<span style="color: #66C2CD;">10</span>, 20, 30], "c": { "c1": true, "c2": null } }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="va">json</span>, <span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">json</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line)</span>
#&gt; <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [100, 20, 30], "c": { "c1": true, "c2": null } }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span></span>
<span>  <span class="st">'[table]\na = 1\nb = [10, 20, 30]\nc = { c1 = true, c2 = [] }\n'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">toml</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines)</span>
#&gt; <span style="color: #6F7783;">1 | </span>[table]
#&gt; <span style="color: #6F7783;">2 | </span>a = 1
#&gt; <span style="color: #6F7783;">3 | </span>b = [10, 20, 30]
#&gt; <span style="color: #6F7783;">4 | </span>c = { c1 = true, c2 = [] }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"table"</span>, <span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines, 1 selected element)</span>
#&gt;   <span style="color: #6F7783;">1 | </span>[table]
#&gt;   <span style="color: #6F7783;">2 | </span>a = 1
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">3 | </span>b = [<span style="color: #66C2CD;">10</span>, 20, 30]
#&gt;   <span style="color: #6F7783;">4 | </span>c = { c1 = true, c2 = [] }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="va">toml</span>, <span class="st">"table"</span>, <span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">toml</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines)</span>
#&gt; <span style="color: #6F7783;">1 | </span>[table]
#&gt; <span style="color: #6F7783;">2 | </span>a = 1
#&gt; <span style="color: #6F7783;">3 | </span>b = [100.0, 20, 30]
#&gt; <span style="color: #6F7783;">4 | </span>c = { c1 = true, c2 = [] }
</pre></div></div></div>
<p></p></div>
</div><div class="section">
<h3 id="the-and-lt-operators">The <code>[[</code> and <code>[[&lt;-</code> operators<a class="anchor" aria-label="anchor" href="#the-and-lt-operators"></a></h3><p>The <code>[[</code> operator works similarly to the combination of
<code>ts_tree_select()</code> and
<code><a href="ts_tree_unserialize.html">ts_tree_unserialize()</a></code>, but it
might be more readable.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span>  <span class="st">'{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 1 selected element)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [<span style="color: #66C2CD;">10</span>, 20, 30], "c": { "c1": true, "c2": null } }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; [[1]]
#&gt; [1] 10
#&gt;
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span></span>
<span>  <span class="st">'[table]\na = 1\nb = [10, 20, 30]\nc = { c1 = true, c2 = [] }\n'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"table"</span>, <span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines, 1 selected element)</span>
#&gt;   <span style="color: #6F7783;">1 | </span>[table]
#&gt;   <span style="color: #6F7783;">2 | </span>a = 1
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">3 | </span>b = [<span style="color: #66C2CD;">10</span>, 20, 30]
#&gt;   <span style="color: #6F7783;">4 | </span>c = { c1 = true, c2 = [] }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"table"</span>, <span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; [[1]]
#&gt; [1] 10
#&gt;
</pre></div></div></div>
<p></p></div>
<p></p><p>The <code>[[&lt;-</code> operator works similarly to the combination of
<code>ts_tree_select()</code> and
<code><a href="ts_tree_update.html">ts_tree_update()</a></code>, (and also to the
replacement function <code><a href="select-set.html">ts_tree_select&lt;-()</a></code>),
but it might be more readable.</p>
<p></p><div><div class="w3-bar">
  <button class="w3-bar-item w3-button tablink w3-active" onclick="openCity(event,'jsonc')">
  JSONC
</button>
<button class="w3-bar-item w3-button tablink " onclick="openCity(event,'toml')">
  TOML
</button></div>  <div class="ts-package-jsonc w3-container w3-border ts-package" style="">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_parse_jsonc.html">ts_parse_jsonc</a></span><span class="op">(</span></span>
<span>  <span class="st">'{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">json</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line)</span>
#&gt; <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [10, 20, 30], "c": { "c1": true, "c2": null } }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line, 1 selected element)</span>
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [<span style="color: #66C2CD;">10</span>, 20, 30], "c": { "c1": true, "c2": null } }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">json</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">json</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># jsonc (1 line)</span>
#&gt; <span style="color: #6F7783;">1 | </span>{ "a": 1, "b": [100, 20, 30], "c": { "c1": true, "c2": null } }
</pre></div></div></div>  <div class="ts-package-toml w3-container w3-border ts-package" style="display:none">  <div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_parse_toml.html">ts_parse_toml</a></span><span class="op">(</span></span>
<span>  <span class="st">'[table]\na = 1\nb = [10, 20, 30]\nc = { c1 = true, c2 = [] }\n'</span></span>
<span><span class="op">)</span></span>
<span><span class="va">toml</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines)</span>
#&gt; <span style="color: #6F7783;">1 | </span>[table]
#&gt; <span style="color: #6F7783;">2 | </span>a = 1
#&gt; <span style="color: #6F7783;">3 | </span>b = [10, 20, 30]
#&gt; <span style="color: #6F7783;">4 | </span>c = { c1 = true, c2 = [] }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/ts_tree_select.html">ts_tree_select</a></span><span class="op">(</span><span class="st">"table"</span>, <span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines, 1 selected element)</span>
#&gt;   <span style="color: #6F7783;">1 | </span>[table]
#&gt;   <span style="color: #6F7783;">2 | </span>a = 1
#&gt; <span style="background-color: #66C2CD;">&gt;</span> <span style="color: #6F7783;">3 | </span>b = [<span style="color: #66C2CD;">10</span>, 20, 30]
#&gt;   <span style="color: #6F7783;">4 | </span>c = { c1 = true, c2 = [] }
</pre></div></div><p></p><div class="sourceCode r"><p style="display:none"> </p><pre><code><span><span class="va">toml</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"table"</span>, <span class="st">"b"</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">toml</span></span></code></pre><p></p></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><div class="sourceCode"><pre>
#&gt; <span style="color: #6F7783;"># toml (4 lines)</span>
#&gt; <span style="color: #6F7783;">1 | </span>[table]
#&gt; <span style="color: #6F7783;">2 | </span>a = 1
#&gt; <span style="color: #6F7783;">3 | </span>b = [100.0, 20, 30]
#&gt; <span style="color: #6F7783;">4 | </span>c = { c1 = true, c2 = [] }
</pre></div></div></div>
<p></p></div>
</div>

<script>
function openCity(evt, language) {
  var currentTab = evt.srcElement.parentElement.parentElement;
  var i, x, tablinks;
  x = currentTab.getElementsByClassName("ts-package");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  tablinks = currentTab.getElementsByClassName("tablink");
  for (i = 0; i < x.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" w3-active", "");
  }
  currentTab.getElementsByClassName("ts-package-" + language)[0].style.display = "block";
  evt.srcElement.className += " w3-active";
}
</script><style>
.w3-container:after,
.w3-container:before,
.w3-panel:after,
.w3-panel:before,
.w3-row:after,
.w3-row:before,
.w3-row-padding:after,
.w3-row-padding:before,
.w3-cell-row:before,
.w3-cell-row:after,
.w3-clear:after,
.w3-clear:before,
.w3-bar:before,
.w3-bar:after {
  content:"";
  display: table;
  clear: both
}.w3-container,
.w3-panel {
  padding: 0.01em 16px
}.w3-panel {
  margin-top: 16px;
  margin-bottom: 16px
}.w3-bar {
  width: 100%;
  overflow: hidden
}.w3-center .w3-bar {
  display: inline-block;
  width: auto
}.w3-bar .w3-bar-item {
  padding: 8px 16px;
  float: left;
  width: auto;
  border: none;
  display: block;
  outline: 0
}.w3-bar .w3-button {
  white-space: normal;
  border: 1px solid;
}.w3-block {
  display: block;
  width: 100%
}.w3-btn,
.w3-button {
  border: none;
  display: inline-block;
  padding: 8px 16px;
  vertical-align: middle;
  overflow: hidden;
  text-decoration: none;
  color: inherit;
  background-color: inherit;
  text-align: center;
  cursor: pointer;
  white-space: nowrap
}.w3-btn,
.w3-button{
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none
}.w3-bar .w3-button {
  white-space: normal
}.w3-button:hover {
  color: #000!important;
  background-color: #ccc!important
}.w3-active,
.w3-hover-active:hover {
  background-color: #aaa;
  color: #000;
}.w3-border-0 {
  border: 0!important
}.w3-border {
  border: 1px solid #ccc!important
}.w3-border-top {
  border-top: 1px solid #ccc!important
}.w3-border-bottom {
  border-bottom: 1px solid #ccc!important
}.w3-border-left {
  border-left: 1px solid #ccc!important
}.w3-border-right{
  border-right: 1px solid #ccc!important
}/* undo the gradient in tidytemplate, but add it to the whole tab */
.ts-package {
  background-image: linear-gradient(-160deg, #f8f8f8 0, #f1f1f1 100%);
}
.ts-package pre, code {
  background-image: none;
  background-color: #00000000;
}
</style></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># See more examples above</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ----------------------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Create a JSONC tree, needs the tsjsonc package</span></span></span>
<span class="r-in"><span><span class="va">json</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_tree_new.html">ts_tree_new</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">tsjsonc</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tsjsonc/reference/ts_language_jsonc.html">ts_language_jsonc</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  text <span class="op">=</span> <span class="st">'{ "a": 1, "b": 2, "c": { "d": 3, "e": 4 } }'</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">json</span> <span class="op">|&gt;</span> <span class="fu">ts_tree_select</span><span class="op">(</span><span class="st">"c"</span>, <span class="st">"d"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># jsonc (1 line, 1 selected element)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="background-color: #00BBBB;">&gt;</span> <span style="color: #555555;">1 | </span>{ "a": 1, "b": 2, "c": { "d": <span style="color: #00BBBB;">3</span>, "e": 4 } }</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ----------------------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Create a TOML tree, needs the tstoml package</span></span></span>
<span class="r-in"><span><span class="va">toml</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_tree_new.html">ts_tree_new</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/ts_language_toml.html">ts_language_toml</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  text <span class="op">=</span> <span class="fu">tstoml</span><span class="fu">::</span><span class="fu"><a href="https://gaborcsardi.github.io/tstoml/reference/toml_example_text.html">toml_example_text</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">toml</span> <span class="op">|&gt;</span> <span class="fu">ts_tree_select</span><span class="op">(</span><span class="st">"servers"</span>, <span class="cn">TRUE</span>, <span class="st">"ip"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># toml (23 lines, 2 selected elements)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">...</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">15  | </span>[servers]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">16  | </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">17  | </span>[servers.alpha]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="background-color: #00BBBB;">&gt;</span> <span style="color: #555555;">18  | </span>ip = <span style="color: #00BBBB;">"10.0.0.1"</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">19  | </span>role = "frontend"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">20  | </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">21  | </span>[servers.beta]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="background-color: #00BBBB;">&gt;</span> <span style="color: #555555;">22  | </span>ip = <span style="color: #00BBBB;">"10.0.0.2"</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">23  | </span>role = "backend"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

